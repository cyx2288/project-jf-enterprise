/**
 * 左侧tab页和右侧tab标签iframe交互以及相关
 * 陈羽翔
 * 2016.9.20
 */

function selectLeftTab(a){var d,b=document.getElementById("accordion1").getElementsByClassName("panel-body");for(document.getElementById("iframeTt").getElementsByTagName("div"),d=0;d<b.length;d++)if(b[d].innerHTML==a){b[d].parentNode.className.indexOf("in")<0&&b[d].parentNode.parentNode.getElementsByTagName("h4")[0].getElementsByTagName("a")[0].click(),b[d].click();break}}function deleteselectTab(a){var d,c=document.getElementById("iframeNavdiv").getElementsByTagName("span");for(d=0;d<c.length;d++)c[d].getAttribute("title")==a&&c[d].getElementsByTagName("i")[0].click()}function selectLeftTabone(a,b){var e,f,c=document.getElementById("accordion1").getElementsByClassName("panel-body"),d=document.getElementById("iframeTt").getElementsByTagName("div");for(e=0;e<c.length;e++)if(c[e].innerHTML==a){c[e].parentNode.className.indexOf("in")<0&&c[e].parentNode.parentNode.getElementsByTagName("h4")[0].getElementsByTagName("a")[0].click(),c[e].click();break}for(f=0;f<d.length;f++)if(d[f].getAttribute("title")==a){d[f].getElementsByTagName("iframe")[0].src=b;break}}var jfCustomerService,getPcExplorer={getExplorer:function(){var b,c,d,e,a=window.navigator.userAgent;return a.indexOf("MSIE")>=0?(b=navigator.appName,c=navigator.appVersion,d=c.split(";"),e=d[1].replace(/[ ]/g,""),"Microsoft Internet Explorer"==b&&"MSIE6.0"==e?"IE 6.0":"Microsoft Internet Explorer"==b&&"MSIE7.0"==e?"IE 7.0":"Microsoft Internet Explorer"==b&&"MSIE8.0"==e?"IE 8.0":"Microsoft Internet Explorer"==b&&"MSIE9.0"==e?"IE 9.0":"Microsoft Internet Explorer"==b&&"MSIE10.0"==e?"IE 10.0":"Microsoft Internet Explorer"==b&&"MSIE11.0"==e?"IE 11.0":"IE"):a.indexOf("Firefox")>=0?"Firefox":a.indexOf("Chrome")>=0?"Chrome":a.indexOf("Opera")>=0?"Opera":a.indexOf("Safari")>=0?"Safari":void 0},isPC:function(){var d,a=navigator.userAgent,b=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),c=!0;for(d=0;d<b.length;d++)if(a.indexOf(b[d])>0){c=!1;break}return c}};void function(){function f(a){var c,b=document.getElementById("iframeNavdiv").getElementsByTagName("span");for(c=b.length-1;c>=1;c--)"sp_display"!=b[c].className&&j(b[c],a);t(-9999,300)}function g(){function l(a){var e,f,g,h,c=this.parentNode;"sp_display"==this.parentNode.className?(e=c.previousSibling,m(),e.className="sp_display",n(e.title,0),j(c,a),k(e),i(e)):(j(c,a),f=b.lastChild,g=document.getElementById("iframeNavFather").offsetWidth,h=f.offsetWidth+f.offsetLeft,setTimeout(function(){h>g&&g-h>d?k(b.getElementsByClassName("sp_display")[0]):g>=h&&t(-9999,300)},100))}var c,e,f,g,o,q,a=document.getElementById("accordion1").getElementsByClassName("panel-select");for(a[0].className="panel-body",this.className="panel-body panel-select",c=b.childNodes,e=0,f=0;f<c.length;f++){if(this.innerHTML.indexOf("首页")>=0){e=1;break}if(1==c[f].nodeType&&c[f].className.indexOf("other_raw")<0&&c[f].title==this.innerHTML){e=1;break}}e?(m(),c[f].className="sp_display",n(this.innerHTML),k(c[f])):(m(),g=p("span","","",this.innerHTML,"iframeNavdiv",""),g.innerHTML=this.innerHTML+"<i></i>",setTimeout(function(){g.className="sp_display"},10),t(-9999,300),g.getElementsByTagName("i")[0].addEventListener("click",l,!1),g.addEventListener("click",h,!1),n(0,0),o=p("div","","",this.innerHTML,"iframeTt",""),q=this.attributes["taburl"].nodeValue,o.innerHTML='<iframe scrolling="auto" frameborder="0" src="'+q+'"></iframe>',o.className="transtion_move",o.getElementsByTagName("iframe")[0].src=q,setTimeout(function(){o.className=""},100))}function h(){m(),this.className="sp_display",n(this.title,0),i(this)}function i(a){selectLeftTab(a.title)}function j(a,b){o(a),n(a.title,1),l(b)}function k(a){var b=a.offsetWidth,c=a.offsetLeft,e=parseInt(document.getElementById("iframeNavFather").style.width),f=c-(e-b)/2,g=0-d-f;t(g,500)}function l(a){a?a.stopPropagation():window.event.cancelBubble=!0}function m(){var a=document.getElementById("iframeNav").getElementsByClassName("sp_display")[0];a.className=a.className.replace("sp_display","")}function n(a,b){var e,f,g,d=c.childNodes;for(e=0;e<d.length;e++)1==d[e].nodeType&&"DIV"==d[e].tagName&&(a&&d[e].title==a?b?o(d[e]):(d[e].style.display="block",d[e].className="transtion_move","首页"==d[e].title&&(f=d[e].getElementsByTagName("iframe")[0].src,d[e].getElementsByTagName("iframe")[0].src=f),g=d[e],setTimeout(function(){g.className=""},100)):b||(d[e].style.display="none"))}function o(a){var b=a.parentNode;b&&b.removeChild(a)}function p(a,b,c,d,e,f){var g=document.createElement(a);return b&&(g.type=b),c&&(g.id=c),f&&(g.className=f),d&&(g.title=d),"document.body"==e?document.body.appendChild(g):e&&document.getElementById(e).appendChild(g),g}function r(){var g,h,a="",b="",c=0,d=document.body.clientHeight,e=document.body.clientWidth;parseInt(e)>1024?(c=parseInt(d)-124,a=c+"px",b=c+40+"px"):(a=parseInt(d)-45+"px",b="auto"),g="iframeCss",h=document.getElementById(g),h||(h=p("style","text/css","iframeCss","","document.body","")),h.innerHTML="#iframeTt iframe{height:"+a+"!important;}.sidebar-wrap{height:"+b+"!important;}"}function s(){var a=document.getElementById("iframeNav").offsetWidth-130-116;document.getElementById("iframeNavFather").style.width=a+"px"}function t(a,c){function i(b){e.style.transform="translateX("+a+"px)",e.style.transition="transform  "+b+"ms",setTimeout(function(){e.style.transition=""},parseInt(b))}var f,g,h,e=b;a=parseInt(d)+parseInt(a),f=document.getElementById("iframeNavFather").offsetWidth,g=e.lastChild,h=g.offsetWidth+g.offsetLeft,h>f?0>=a&&a>=f-h||(a>0?a=0:f-h>a&&(a=f-h)):a=0,i(c),d=a}function u(){v(),setTimeout(function(){var a,b;for(document.getElementsByTagName("footer")[0].addEventListener("click",v,!1),document.getElementsByTagName("nav")[0].addEventListener("click",v,!1),document.getElementById("bg-overview").addEventListener("click",v,!1),a=document.getElementById("accordion").getElementsByClassName("panel-collapse"),b=0;b<a.length;b++)a[b].addEventListener("click",v,!1)},100)}function v(){function c(){var a,b;for(document.getElementById("bg-overview").style.display="",document.getElementsByTagName("footer")[0].removeEventListener("click",v,!1),document.getElementsByTagName("nav")[0].removeEventListener("click",v,!1),document.getElementById("bg-overview").removeEventListener("click",v,!1),document.getElementById("bg-overview").removeEventListener("webkitTransitionEnd",c),document.getElementById("bg-overview").removeEventListener("transitionend",c),a=document.getElementById("accordion").getElementsByClassName("panel-collapse"),b=0;b<a.length;b++)a[b].removeEventListener("click",v,!1)}var a=document.getElementById("overviewSidebarTrigger").getElementsByTagName("span")[0],b=a.className;"material-design-hamburger__layer"==b?(a.className=b+" material-design-hamburger__icon--to-arrow",document.getElementById("overviewSidebar").style.transform="translateX(0px)",document.getElementById("bg-overview").style.display="block",setTimeout(function(){document.getElementById("bg-overview").className="show"},10)):b.indexOf("material-design-hamburger__icon--to-arrow")>0?(a.className=b.replace("material-design-hamburger__icon--to-arrow","material-design-hamburger__icon--from-arrow"),document.getElementById("overviewSidebar").style.transform="",document.getElementById("bg-overview").className="",document.getElementById("bg-overview").addEventListener("transitionend",c),document.getElementById("bg-overview").addEventListener("webkitTransitionEnd",c)):b.indexOf("material-design-hamburger__icon--from-arrow")>0&&(a.className=b.replace("material-design-hamburger__icon--from-arrow","material-design-hamburger__icon--to-arrow"),document.getElementById("overviewSidebar").style.transform="translateX(0px)",document.getElementById("bg-overview").style.display="block",setTimeout(function(){document.getElementById("bg-overview").className="show"},10))}function w(){var b,a=document.getElementById("accordion").getElementsByClassName("panel-heading");for(b=0;b<a.length;b++)a[b].addEventListener("click",function(){this.getElementsByTagName("a")[0].click()},!1)}var e,x,a=document.getElementById("accordion1").getElementsByClassName("panel-body"),b=document.getElementById("iframeNavdiv"),c=document.getElementById("iframeTt"),d=0;for(e=0;e<a.length;e++)a[e].addEventListener("click",g,!1);document.getElementById("closs_all_tabs").addEventListener("click",f,!1),b.firstChild.addEventListener("click",h,!1),document.getElementById("jf_company_name").addEventListener("click",function(){b.firstChild.click()},!1),r(),window.addEventListener("resize",r,!1),s(),window.addEventListener("resize",s,!1),document.getElementById("turnLeft").addEventListener("click",function(){t(parseInt(document.getElementById("iframeNavFather").style.width)/2,300)},!1),document.getElementById("turnRight").addEventListener("click",function(){t(0-parseInt(document.getElementById("iframeNavFather").style.width)/2,300)},!1),document.getElementById("overviewSidebarTrigger").addEventListener("click",u,!1),w(),getPcExplorer.isPC()&&"Safari"==getPcExplorer.getExplorer()&&(x=p("style","","safari_pc","","document.body"),x.innerHTML=".guide-overview{margin-left:0}")}(),jfCustomerService={init:function(a){function b(a){"visible"===a?($("#MEIQIA-PANEL-HOLDER").removeClass("hide").addClass("show"),setTimeout(function(){$("#MEIQIA-PANEL-HOLDER").removeClass("show")},300)):$("#MEIQIA-PANEL-HOLDER").addClass("hide")}!$("#MEIQIA-PANEL-HOLDER").length>0&&(function(a,b,c,d,e,f,g){a[d]=a[d]||function(){(a[d].a=a[d].a||[]).push(arguments)},f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=!0,f.charset="UTF-8",f.src="//static.meiqia.com/dist/meiqia.js",g.parentNode.insertBefore(f,g)}(window,document,"script","_MEIQIA"),_MEIQIA("entId","39750"),_MEIQIA("manualInit"),_MEIQIA("withoutBtn"),_MEIQIA("allSet",b),_MEIQIA("getPanelVisibility",b),_MEIQIA("init"),_MEIQIA("metadata",a))},click:function(){_MEIQIA("showPanel")}};