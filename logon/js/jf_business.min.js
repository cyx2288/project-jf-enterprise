/**
 * Created by 陈羽翔 on 2016/12/13.
 * 企业端登录页
 */

function backgroundImgBlur(){var d,e,j,k,l,a=document.getElementById("background_blur").getElementsByTagName("div")[0],b=a.offsetLeft,c=a.offsetTop,f=document.body.clientWidth,g=document.body.clientHeight,h=.3*(f-2e3),i=.5*(g-1333);f>=1400?(d=.3*(f-2e3)-b,e=.3*(g-1333)-c,i=.3*(g-1333)):f>=1100?(d=.3*(f-2e3)-b,e=.5*(g-1333)-c):1100>f&&(j=a,550>f?(k=.9*f,j.style.width=k+"px"):j.style.width="490px",j.style.left="0px",b=j.offsetLeft,c=j.offsetTop,d=.3*(f-2e3)-b,e=.5*(g-1333)-c),a.style.backgroundPositionX=d+"px",a.style.backgroundPositionY=e+"px",l=document.getElementById("background_blur").getElementsByTagName("img")[0],l.style.left=h+"px",l.style.top=i+"px"}function navShow(){var a=document.body.getElementsByTagName("nav")[0],b=document.body.getElementsByTagName("footer")[0],c=document.getElementById("background_init");setTimeout(function(){a&&"init_nav"==a.className&&setTimeout(function(){a.className=""},1500),b&&"init_footer"==b.className&&setTimeout(function(){b.className=""},1500),c&&"init_loading"==c.className&&(c.className="",document.body.scrollTop=800,setTimeout(function(){removeElement(c)},1e3))},500)}function removeElement(a){var b=a.parentNode;b&&b.removeChild(a)}function inputInitChange(){function c(){this.value||""!=this.value?this.className="has_text":this.removeAttribute("class")}var b,a=document.body.getElementsByTagName("section")[0].getElementsByClassName("section_middle_input")[0].getElementsByTagName("input");for(b=0;b<a.length;b++)"button"!=a[b].type&&(c(),a[b].addEventListener("blur",c,!1))}function logonInputHasError(a,b){var c,d;for(a.className="has_error",c=a.nextSibling,d=0;1e3>d;d++)c.className&&c.className.indexOf("input_text_switch")>-1&&c.className.indexOf("red")>-1?c.innerHTML=b:c=c.nextSibling}function iosInputPosition(){var b,a=navigator.userAgent;(a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1)&&(b=document.createElement("style"),b.type="text/css",b.innerHTML="@media screen and (max-width: 1100px){section .section_middle_input input[type=text], section .section_middle_input input[type=password]{margin-top:8px}}",document.body.appendChild(b))}function logonInputDisabled(){function c(){var c,b=!1;for(c=0;c<a.length;c++)if("text"==a[c].type){if(!a[c].value){b=!1;break}b=!0}b?document.getElementsByClassName("login_button")[0].removeAttribute("disabled"):document.getElementsByClassName("login_button")[0].setAttribute("disabled","disabled")}var b,a=document.getElementsByTagName("input");for(b=0;b<a.length;b++)"text"==a[b].type&&(a[b].addEventListener("input",c,!1),a[b].addEventListener("propertychange",c,!1))}function jfPasdValidateshow(a){var b="<span class='validatepasd'><span class='pasdtext00'></span><span class='pasdbar00'></span></span>";$(a).parent().append(b)}function jfPasdValidate(a){var f,g,h,c=new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]).*$","g"),d=new RegExp("^(?=.{8,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$","g");return new RegExp("(?=.{6,}).*","g"),f=$("span.pasdbar00"),g=$("span.pasdtext00"),h=$(a),!h.val()||h.val().length<6||h.val().length>20?(g.text("密码长度需6-20位英文字母和数字"),f.removeClass("barstyong").removeClass("barmid").removeClass("barweak")):c.test(h.val())?(g.addClass("textstrong").text("密码强度：高").removeClass("textmid").removeClass("textweak"),f.addClass("barstyong").removeClass("barmid").removeClass("barweak")):d.test(h.val())?(g.addClass("textmid").text("密码强度：中"),f.addClass("barmid").removeClass("barstyong").removeClass("barweak")):(g.addClass("textweak").text("密码强度：弱"),f.addClass("barweak").removeClass("barmid")),!0}function PasdValidateRemove(a){$(a).siblings(".validatepasd").remove()}function getMessage(a,b,c,d){function h(){var c;return 0==e?($(a).attr("disabled",!1).css("color","color1"),$(a).text("点击发送"),e=b,void 0):($(a).attr("disabled","true").css({color:"#ababab",padding:"a"}),$(a).text("重新发送("+e+")").css("cursor","not-allowed"),e--,c=setTimeout(function(){h()},1e3),void 0)}var e=b;h()}function confirmInputDisabled(){function b(){""!=a.value?document.getElementsByClassName("login_button")[0].removeAttribute("disabled"):document.getElementsByClassName("login_button")[0].setAttribute("disabled","disabled")}var a=document.getElementById("password_input");a.addEventListener("input",b,!1),a.addEventListener("propertychange",b,!1)}var jfCustomerService,jfValidateInput;document.addEventListener("touchstart",function(){},!1),backgroundImgBlur(),window.addEventListener("resize",backgroundImgBlur,!1),window.addEventListener("load",backgroundImgBlur,!1),window.addEventListener("load",navShow,!1),jfCustomerService={init:function(a){!function(a,b,c,d,e,f,g){a[d]=a[d]||function(){(a[d].a=a[d].a||[]).push(arguments)},f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=!0,f.charset="UTF-8",f.src="//static.meiqia.com/dist/meiqia.js",g.parentNode.insertBefore(f,g)}(window,document,"script","_MEIQIA"),_MEIQIA("entId","39750"),_MEIQIA("manualInit"),_MEIQIA("withoutBtn"),_MEIQIA("init"),_MEIQIA("metadata",a)},click:function(){_MEIQIA("showPanel")}},void function(){var a=-1e3,b=!1,c=!0,d=document.getElementById("background_blur").getElementsByTagName("div")[0],e=document.getElementById("background_blur").getElementsByTagName("img")[0];document.addEventListener("mousemove",function(f){var g,h,i,j;-1e3==a?(a=f.pageX,e.style.transform="translateX(0px)"):b?(g=f.pageX,h=(a-g)/140,i=e.style.transform,j=d.style.backgroundPositionX,i=parseFloat(i.substring(11,i.length-3)),j=parseFloat(j.substring(0,j.length-2)),e.style.transform="translateX("+(i+h)+"px)",d.style.backgroundPositionX=j+h/4+"px",a=f.pageX,b=!1,c=!0):c&&(setTimeout(function(){b=!0},100),c=!1)},!1)}(),window.addEventListener("load",inputInitChange,!1),window.addEventListener("load",iosInputPosition,!1),$(".input_valiate").on({change:function(){jfValidateInput.validateWrong(this,"输入错误")},focus:function(){jfValidateInput.validateRemove(this)}}),$("input.new_password").each(function(){$(this).on({focus:function(){jfPasdValidateshow(this),jfPasdValidate(this)},keyup:function(){jfPasdValidate(this)},blur:function(){PasdValidateRemove(this)}})}),jfValidateInput={validateWrong:function(a,b){var c='<span style="color:red;display: block;" class="validatepp"><span class="validate_wrong">×</span> <span style="width:60px;display: inline">'+b+"</span></span>";$(a).parent().append(c)},validateRight:function(a,b){var c='<span style="color:green;display: block;" class="validatepp"><span class="validate_right">√</span> <span style="width:60px;display: inline">'+b+"</span></span>";$(a).parent().append(c)},validateRemove:function(a){$(a).siblings(".validatepp").remove()}};